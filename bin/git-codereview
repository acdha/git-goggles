#!/usr/bin/env python

import sys
import os

sys.path.insert(0, os.path.join(os.path.dirname(os.path.dirname(__file__)), 'src'))

from codereview import get_status, complete_review, start_review

if __name__ == "__main__":
    if not os.path.exists('.git'):
        print 'Not within a git repository.'
        sys.exit(1)

    if len(sys.argv) == 1:
        get_status()
    elif len(sys.argv) == 2:
        if sys.argv[1] == 'complete':
            complete_review()
        elif sys.argv[1] == 'start':
            start_review()
        else:
            print 'usage: git codereview [complete|start]'
